<div class="row create-report">
  <div class="create-report__header">
    <h1 mat-headline class="create-report__header--text">Report flooding</h1>
  </div>
  <div class="create-report__map mat-elevation-z2">
    <agm-map [latitude]="lat" [longitude]="lng" [zoom]="15">
      <agm-marker [latitude]="lat" [longitude]="lng" [markerDraggable]="true" (dragEnd)="moveReport($event)">
      </agm-marker>
      <agm-marker-cluster
        imagePath="https://raw.githubusercontent.com/googlemaps/v3-utility-library/master/markerclustererplus/images/m">
        <agm-marker *ngFor="let marker of markers" [latitude]="marker.lat" [longitude]="marker.lng"
          [iconUrl]='otherUserMarker'>
          <agm-info-window>
            <h3 mat-headline class="mb-2">Flood Reported</h3>
            <hr>
            <p class="mat-body-2">Report details: <span class="mat-body-1">{{marker.desc}}</span></p>
            <hr><img *ngIf="marker.img" src="{{marker.img}}" width="200"><br>
          </agm-info-window>
        </agm-marker>
      </agm-marker-cluster>
    </agm-map>
  </div>
  <div class="create-report__search-box">
    <app-auto-search (eventEmitter)="setMarkers()"></app-auto-search>
    <mat-form-field class="create-report__search-box--text">
      <textarea matInput placeholder="Enter Details" rows="2" [(ngModel)]="report.desc"
        [ngModelOptions]="{standalone: true}"></textarea>
    </mat-form-field>
  </div>
  <div class="create-report__submit">
    <input type="file" class="inputfile" id="submit-photo" accept="image/*" (change)="processFile($event)">
    <label for="submit-photo">Add a photo</label>
    <button mat-button (click)="createReport()">SUBMIT</button>
  </div>
</div>
